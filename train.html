<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Train Chatbot</title>
<meta name="viewport" content="width=device-width,initial-scale=1">
<link rel="stylesheet" href="style.css">
</head>
<body>
<div class="container">
<h2>Train Chatbot</h2>
<form id="train-form">
  <input type="text" name="question" placeholder="Question">
  <textarea name="answer" placeholder="Answer"></textarea>
  <select name="lang">
    <option value="en">English</option>
    <option value="ms">Malay</option>
    <option value="ar">Arabic</option>
  </select>
  <button type="submit">Submit</button>
</form>
<p id="status-msg"></p>
</div>

<script>
const TRAIN_API = "https://identifyingspiritualsickness-chatbot.onrender.com/train";

document.getElementById("train-form").addEventListener("submit", async e=>{
  e.preventDefault();
  const form = Object.fromEntries(new FormData(e.target));
  try{
    await fetch(TRAIN_API,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(form)});
    document.getElementById("status-msg").textContent = "✅ Training data submitted!";
    e.target.reset();
  } catch(err){ document.getElementById("status-msg").textContent = "❌ Failed to submit."; }
});
</script>
</body>
</html>
