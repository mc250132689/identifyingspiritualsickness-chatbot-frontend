<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>View Feedback</title>
<meta name="viewport" content="width=device-width,initial-scale=1">
<link rel="stylesheet" href="style.css">
</head>
<body>
<div class="container">
<h1>Feedback Responses</h1>
<div id="feedback-list">Loading...</div>
</div>

<script>
const FEEDBACK_API = "https://identifyingspiritualsickness-chatbot.onrender.com/get-feedback";
const list = document.getElementById("feedback-list");

async function loadFeedback() {
  list.textContent = "Loading...";
  const res = await fetch(FEEDBACK_API);
  const data = await res.json();
  list.innerHTML = "";
  if(!data.length) list.innerHTML="<p>No feedback submitted yet.</p>";
  data.slice().reverse().forEach(fb=>{
    const div = document.createElement("div");
    div.innerHTML = `<strong>${fb.name||"Anonymous"}</strong> • ${fb.student_id||""} • ${fb.program||""}<br>${fb.q14||""}<hr>`;
    list.appendChild(div);
  });
}

loadFeedback();
setInterval(loadFeedback,10000);
</script>
</body>
</html>
