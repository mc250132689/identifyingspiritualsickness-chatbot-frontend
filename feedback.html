<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Submit Feedback</title>
<meta name="viewport" content="width=device-width,initial-scale=1">
<link rel="stylesheet" href="style.css">
<style>
.container{max-width:600px;margin:auto;padding:20px;}
input,textarea,select{width:100%;padding:10px;margin:5px 0;border-radius:10px;border:1px solid #ccc;}
.btn{padding:10px 18px;border-radius:10px;background:#4b6960;color:white;border:none;cursor:pointer;}
.btn:hover{background:#3b5e53;}
</style>
</head>
<body>
<div class="container">
<h1>Submit Feedback</h1>
<form id="feedback-form">
<input type="text" id="name" placeholder="Name">
<input type="text" id="student_id" placeholder="Student ID">
<input type="text" id="program" placeholder="Program">
<label>Chatbot Usability</label><input type="text" id="q4">
<label>Clarity</label><input type="text" id="q5">
<label>Difficulty</label><input type="text" id="q6">
<label>Relevance</label><input type="text" id="q7">
<label>Accuracy</label><input type="text" id="q8">
<label>Misleading Responses</label><input type="text" id="q9">
<label>Helpfulness</label><input type="text" id="q10">
<label>Would Use Again</label><input type="text" id="q11">
<label>Suggestions</label><textarea id="q12"></textarea>
<label>Overall Satisfaction</label><input type="text" id="q13">
<label>Additional Comments</label><textarea id="q14"></textarea>
<button type="submit" class="btn">Submit Feedback</button>
</form>
<p id="feedback-status"></p>
</div>
<script>
const FEEDBACK_API = "https://identifyingspiritualsickness-chatbot.onrender.com/submit-feedback";
const form = document.getElementById("feedback-form");
const status = document.getElementById("feedback-status");

form.addEventListener("submit", async e=>{
  e.preventDefault();
  status.textContent="Submitting...";
  const payload = {};
  ["name","student_id","program","q4","q5","q6","q7","q8","q9","q10","q11","q12","q13","q14"].forEach(id=>{
    payload[id]=document.getElementById(id).value;
  });
  try{
    const res=await fetch(FEEDBACK_API,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(payload)});
    const data=await res.json();
    status.textContent=data.message||"Submitted!";
    form.reset();
  }catch(err){console.error(err); status.textContent="Error submitting feedback.";}
});
</script>
</body>
</html>
